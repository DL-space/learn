webpackJsonp([1,0],[function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=o(1),n=s(i),r=o(24),c=s(r),a=o(32),l=s(a),d=o(31),u=s(d),p=o(26),f=s(p),v=o(28),h=s(v),m=o(29),x=s(m);n.default.use(l.default),n.default.use(u.default);var g=n.default.extend(c.default),_=new l.default({linkActiveClass:"active"});_.map({"/goods":{component:f.default},"/ratings":{component:h.default},"/seller":{component:x.default}}),_.start(g,"#app"),_.go("/goods")},,function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(27),n=s(i);e.default={data:function(){return{seller:{}}},created:function(){var t=this;this.$http.get("/api/seller").then(function(e){t.seller=e.body.data,console.log(t.seller)},function(t){console.log("error")})},components:{"v-header":n.default}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),n=s(i);e.default={props:{food:{type:Object}},created:function(){console.log(this.food)},methods:{addCart:function(t){t._constructed&&(this.food.count?this.food.count++:n.default.set(this.food,"count",1))},decreaseCart:function(t){t._constructed&&this.food.count&&this.food.count--}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(9),n=s(i),r=o(30),c=s(r),a=o(25),l=s(a);e.default={props:{seller:{type:Object}},data:function(){return{goods:[],listHeight:[],scrollY:0}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],o=this.listHeight[t+1];if(!o||this.scrollY>=e&&this.scrollY<o)return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},created:function(){var t=this;this.classMap=["decrease","discount","special","invoice","guarantee"],this.$http.get("/api/goods").then(function(e){t.goods=e.body.data,t.$nextTick(function(){t._initScroll(),t._calculateHeight()})},function(t){console.log("error")})},methods:{_initScroll:function(){var t=this;this.meunScroll=new n.default(this.$els.menuWrapper,{click:!0}),this.foodsScroll=new n.default(this.$els.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(e){t.scrollY=Math.abs(Math.round(e.y))})},_calculateHeight:function(){var t=this.$els.foodsWrapper.getElementsByClassName("food-list-hook"),e=0;this.listHeight.push(e);for(var o=0;o<t.length;o++){var s=t[o];e+=s.clientHeight,this.listHeight.push(e)}},selectMenu:function(t,e){if(e._constructed){var o=this.$els.foodsWrapper.getElementsByClassName("food-list-hook"),s=o[t];this.foodsScroll.scrollToElement(s,300)}}},components:{shopcart:c.default,cartcontrol:l.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{seller:{type:Object}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{seller:{type:Object}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{selectFoods:{type:Array,default:function(){return[{price:10,count:1}]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.price*e.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.count}),t},payDesc:function(){if(0===this.totalPrice)return"￥"+this.minPrice+"元起送";if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差￥"+t+"元起送"}return"去结算"},payClass:function(){return this.totalPrice<this.minPrice?void 0:"enough"}}}},,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=" <div> <v-header :seller=seller></v-header> <div class=tab> <div class=tab-item> <a v-link=\"{path:'/goods'}\">商品</a> </div> <div class=tab-item> <a v-link=\"{path:'/ratings'}\">评论</a> </div> <div class=tab-item> <a v-link=\"{path:'/seller'}\">商家</a> </div> </div> <router-view :seller=seller></router-view> </div> "},function(t,e){t.exports=' <div class=cartcontrol> <div class=cart-decrease v-show="food.count>0" @click=decreaseCart transition=move> <span class=inner>-</span> </div> <div class=cart-count v-show="food.count>0">{{food.count}}</div> <div class=cart-add @click=addCart>+</div> </div> '},function(t,e){t.exports=' <div class=goods> <div class=menu-wrapper v-el:menu-wrapper> <ul> <li v-for="item in goods" class=menu-item :class="{\'current\':currentIndex===$index}" @click=selectMenu($index,$event)> <span class=text> <span v-show="item.type>0" class=icon :class=classMap[item.type]></span>{{item.name}} </span> </li> </ul> </div> <div class=foods-wrapper v-el:foods-wrapper> <ul> <li v-for="item in goods" class="food-list food-list-hook"> <h1 class=title>{{item.name}}</h1> <ul> <li v-for="food in item.foods" class=food-item> <div class=icon> <img :src=food.icon alt="" width=57px height=57px> </div> <div class=content> <h2 class=name>{{food.name}}</h2> <p class=desc>{{food.description}}</p> <div class=extra> <span class=count>月售{{food.sellCount}}份</span> <span>好评率{{food.rating}}%</span> </div> <div class=price> <span class=now>￥{{food.price}}</span> <span v-show=food.oldPrice class=old>￥{{food.oldPrice}}</span> </div> <div class=cartcontrol-wrapper> <cartcontrol :food=food></cartcontrol> </div> </div> </li> </ul> </li> </ul> </div> <shopcart :select-foods=selectFoods :delivery-price=seller.deliveryPrice :min-price=seller.minPrice></shopcart> </div> '},function(t,e){t.exports=' <div class=header> <div class=content-wrapper> <div class=avatar> <img width=64 height=64 :src=seller.avatar alt=""> </div> <div class=content> <div class=title> <span class=brand></span> <span class=name>{{seller.name}}</span> </div> <div class=description> {{seller.description}}/{{seller.deliveryTime}}分钟送达 </div> <div v-if=seller.supports class=support> <span class=icon></span> <span class=text>{{seller.supports[0].description}}</span> </div> </div> <div v-if=seller.supports class=support-count> <span class=count>{{seller.supports.length}}个 ></span> <i class=icon_keyboard_arrow_right></i> </div> </div> <div class=bulletin-wrapper> <span class=bulletin-title></span> <span class=bulletin-text>{{seller.bulletin}}</span> <i class=icon_keyboard_arrow_right></i> </div> <div class=background> <img :src=seller.avatar alt="" width=100% height=100%> </div> </div> '},function(t,e){t.exports=" <div>I am ratings</div> "},function(t,e){t.exports=" <div>I am seller</div> "},function(t,e){t.exports=' <div class=shopcart> <div class=content> <div class=content-left> <div class=logo-wrapper> <div class=logo :class="{\'highlight\':totalCount>0}"> <i class=icon-shopping_cart>-</i> </div> <div class=num v-show="totalCount>0">{{totalCount}}</div> </div> <div class=price :class="{\'highlight\':totalPrice>0}">￥{{totalPrice}}</div> <div class=desc>另需配送费￥{{deliveryPrice}}元</div> </div> <div class=content-right> <div class=pay :class=payClass> {{payDesc}} </div> </div> </div> </div> '},function(t,e,o){var s,i,n={};o(10),s=o(2),i=o(17),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var s,i,n={};o(11),s=o(3),i=o(18),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var s,i,n={};o(12),s=o(4),i=o(19),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var s,i,n={};o(13),s=o(5),i=o(20),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var s,i,n={};o(14),s=o(6),i=o(21),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var s,i,n={};o(15),s=o(7),i=o(22),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var s,i,n={};o(16),s=o(8),i=o(23),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},,,function(t,e){}]);
//# sourceMappingURL=app.07527d57319f3d76d4e5.js.map